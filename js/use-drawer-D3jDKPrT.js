var $e=Object.defineProperty,Te=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var U=(o,t,s)=>t in o?$e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s,f=(o,t)=>{for(var s in t||(t={}))Z.call(t,s)&&U(o,s,t[s]);if(N)for(var s of N(t))G.call(t,s)&&U(o,s,t[s]);return o},j=(o,t)=>Te(o,Ae(t));var I=(o,t)=>{var s={};for(var a in o)Z.call(o,a)&&t.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&N)for(var a of N(o))t.indexOf(a)<0&&G.call(o,a)&&(s[a]=o[a]);return s};var E=(o,t,s)=>U(o,typeof t!="symbol"?t+"":t,s);var ee=(o,t,s)=>new Promise((a,r)=>{var l=n=>{try{_(s.next(n))}catch(h){r(h)}},m=n=>{try{_(s.throw(n))}catch(h){r(h)}},_=n=>n.done?a(n.value):Promise.resolve(n.value).then(l,m);_((s=s.apply(o,t)).next())});import{h as Ie,t as Ee,x as le,aV as Pe,aW as ze,aX as Ve,aY as Le,aZ as Fe,a_ as Me,a$ as Re,b0 as Ne,b1 as je,b2 as We,b3 as Ke,b4 as Ue,b5 as Je,b6 as Xe,b7 as qe,b8 as te,b9 as He,e as se,ba as Qe,bb as Ye}from"./bootstrap-xmYQ40wY.js";import{ad as g,ae as d,ao as p,ap as u,ag as y,aP as re,aQ as ie,a3 as e,U as de,af as S,J as V,v as D,as as Ze,am as b,ah as q,bg as C,an as k,O as W,V as ce,ai as z,F as Ge,aJ as et,ar as O,aU as tt,ab as pe,aC as P,aq as oe,bq as st,i as ot,W as at,h as ae,w as nt}from"../jse/index-index-BZcJvspI.js";const lt=Ie("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rt=Ee("bg-background shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 border-border",{defaultVariants:{side:"right"},variants:{side:{bottom:"inset-x-0 bottom-0 border-t border-border data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left ",right:"inset-y-0 right-0 w-3/4 border-l  data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right",top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top"}}}),it=g({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(o,{emit:t}){const r=le(o,t);return(l,m)=>(d(),p(e(Pe),re(ie(e(r))),{default:u(()=>[y(l.$slots,"default")]),_:3},16))}}),dt=g({__name:"SheetClose",props:{asChild:{type:Boolean},as:{}},setup(o){const t=o;return(s,a)=>(d(),p(e(ze),re(ie(t)),{default:u(()=>[y(s.$slots,"default")]),_:3},16))}}),ct=["data-dismissable-drawer"],pt=g({__name:"SheetOverlay",setup(o){Ve();const t=de("DISMISSABLE_DRAWER_ID");return(s,a)=>(d(),S("div",{"data-dismissable-drawer":e(t),class:"bg-overlay inset-0"},null,8,ct))}}),ut=g({inheritAttrs:!1,__name:"SheetContent",props:{appendTo:{default:"body"},class:{},modal:{type:Boolean},open:{type:Boolean},side:{},zIndex:{default:1e3},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:t}){const s=o,a=t,r=V(()=>{const B=s,{class:n,modal:h,open:c,side:w}=B;return I(B,["class","modal","open","side"])});function l(){return s.appendTo==="body"||s.appendTo===document.body||!s.appendTo}const m=V(()=>l()?"fixed":"absolute"),_=le(r,a);return(n,h)=>(d(),p(e(Me),{to:n.appendTo},{default:u(()=>[D(Le,{name:"fade"},{default:u(()=>[n.open&&n.modal?(d(),p(pt,{key:0,style:Ze({zIndex:n.zIndex,position:m.value})},null,8,["style"])):b("",!0)]),_:1}),D(e(Fe),q({class:e(C)(e(rt)({side:n.side}),s.class),style:{zIndex:n.zIndex,position:m.value}},f(f({},e(_)),n.$attrs)),{default:u(()=>[y(n.$slots,"default")]),_:3},16,["class","style"])]),_:3},8,["to"]))}}),J=g({__name:"SheetDescription",props:{class:{},asChild:{type:Boolean},as:{}},setup(o){const t=o,s=V(()=>{const l=t,{class:a}=l;return I(l,["class"])});return(a,r)=>(d(),p(e(Re),q({class:e(C)("text-muted-foreground text-sm",t.class)},s.value),{default:u(()=>[y(a.$slots,"default")]),_:3},16,["class"]))}}),ft=g({__name:"SheetFooter",props:{class:{}},setup(o){const t=o;return(s,a)=>(d(),S("div",{class:k(e(C)("flex flex-row flex-col-reverse justify-end gap-x-2",t.class))},[y(s.$slots,"default")],2))}}),mt=g({__name:"SheetHeader",props:{class:{}},setup(o){const t=o;return(s,a)=>(d(),S("div",{class:k(e(C)("flex flex-col text-center sm:text-left",t.class))},[y(s.$slots,"default")],2))}}),X=g({__name:"SheetTitle",props:{class:{},asChild:{type:Boolean},as:{}},setup(o){const t=o,s=V(()=>{const l=t,{class:a}=l;return I(l,["class"])});return(a,r)=>(d(),p(e(Ne),q({class:e(C)("text-foreground font-medium",t.class)},s.value),{default:u(()=>[y(a.$slots,"default")]),_:3},16,["class"]))}}),ht={class:"dot relative inline-block size-9 text-3xl"},yt={key:0,class:"mt-4 text-xs"},_t=g({name:"VbenLoading",__name:"loading",props:{class:{},minLoadingTime:{default:50},spinning:{type:Boolean},text:{default:""}},setup(o){const t=o,s=W(!1),a=W(!0),r=W();ce(()=>t.spinning,m=>{if(!m){s.value=!1,clearTimeout(r.value);return}r.value=setTimeout(()=>{s.value=!0,s.value&&(a.value=!0)},t.minLoadingTime)},{immediate:!0});function l(){s.value||(a.value=!1)}return(m,_)=>(d(),S("div",{class:k(e(C)("z-100 dark:bg-overlay bg-overlay-content pointer-events-none absolute left-0 top-0 flex size-full flex-col items-center justify-center transition-all duration-500",{"invisible opacity-0":!s.value},t.class)),onTransitionend:l},[z("span",ht,[(d(),S(Ge,null,et(4,n=>z("i",{key:n,class:"bg-primary absolute block size-4 origin-[50%_50%] scale-75 rounded-full opacity-30"})),64))]),m.text?(d(),S("div",yt,O(m.text),1)):b("",!0)],34))}}),bt=je(_t,[["__scopeId","data-v-a3d8beca"]]),wt={class:"flex-center"},gt=g({__name:"drawer",props:{drawerApi:{default:void 0},appendToMain:{type:Boolean,default:!1},cancelText:{},class:{},closable:{type:Boolean},closeOnClickModal:{type:Boolean},closeOnPressEscape:{type:Boolean},confirmLoading:{type:Boolean},confirmText:{},contentClass:{},description:{},footer:{type:Boolean},footerClass:{},header:{type:Boolean},headerClass:{},loading:{type:Boolean},modal:{type:Boolean},openAutoFocus:{type:Boolean},placement:{},showCancelButton:{type:Boolean},showConfirmButton:{type:Boolean},title:{},titleTooltip:{},zIndex:{default:1e3}},setup(o){var M,Y;const t=o,s=We.getComponents(),a=tt();pe("DISMISSABLE_DRAWER_ID",a);const r=W(),{$t:l}=Ke(),{isMobile:m}=Ue(),_=(Y=(M=t.drawerApi)==null?void 0:M.useStore)==null?void 0:Y.call(M),{appendToMain:n,cancelText:h,class:c,closable:w,closeOnClickModal:x,closeOnPressEscape:B,confirmLoading:ue,confirmText:fe,contentClass:me,description:L,footer:he,footerClass:ye,header:_e,headerClass:be,loading:K,modal:we,openAutoFocus:ge,placement:$,showCancelButton:ve,showConfirmButton:Ce,title:F,titleTooltip:H,zIndex:xe}=Je(t,_);ce(()=>K.value,i=>{i&&r.value&&r.value.scrollTo({top:0})});function Be(i){x.value||i.preventDefault()}function De(i){B.value||i.preventDefault()}function ke(i){const v=i.target,R=v==null?void 0:v.dataset.dismissableDrawer;(!x.value||R!==a)&&i.preventDefault()}function Oe(i){ge.value||i==null||i.preventDefault()}function Q(i){i.preventDefault(),i.stopPropagation()}const Se=V(()=>n.value?`#${Xe}`:void 0);return(i,v)=>{var R;return d(),p(e(it),{modal:!1,open:(R=e(_))==null?void 0:R.isOpen,"onUpdate:open":v[2]||(v[2]=()=>{var T;return(T=i.drawerApi)==null?void 0:T.close()})},{default:u(()=>{var T;return[D(e(ut),{"append-to":Se.value,class:k(e(C)("flex w-[520px] flex-col",e(c),{"!w-full":e(m)||e($)==="bottom"||e($)==="top","max-h-[100vh]":e($)==="bottom"||e($)==="top"})),modal:e(we),open:(T=e(_))==null?void 0:T.isOpen,side:e($),"z-index":e(xe),onCloseAutoFocus:Q,onEscapeKeyDown:De,onFocusOutside:Q,onInteractOutside:Be,onOpenAutoFocus:Oe,onPointerDownOutside:ke},{default:u(()=>[e(_e)?(d(),p(e(mt),{key:0,class:k(e(C)("!flex flex-row items-center justify-between border-b px-6 py-5",e(be),{"px-4 py-3":e(w)}))},{default:u(()=>[z("div",null,[e(F)?(d(),p(e(X),{key:0,class:"text-left"},{default:u(()=>[y(i.$slots,"title",{},()=>[P(O(e(F))+" ",1),e(H)?(d(),p(e(qe),{key:0,"trigger-class":"pb-1"},{default:u(()=>[P(O(e(H)),1)]),_:1})):b("",!0)])]),_:3})):b("",!0),e(L)?(d(),p(e(J),{key:1,class:"mt-1 text-xs"},{default:u(()=>[y(i.$slots,"description",{},()=>[P(O(e(L)),1)])]),_:3})):b("",!0)]),!e(F)||!e(L)?(d(),p(e(te),{key:0},{default:u(()=>[e(F)?b("",!0):(d(),p(e(X),{key:0})),e(L)?b("",!0):(d(),p(e(J),{key:1}))]),_:1})):b("",!0),z("div",wt,[y(i.$slots,"extra"),e(w)?(d(),p(e(dt),{key:0,"as-child":"",class:"data-[state=open]:bg-secondary ml-[2px] cursor-pointer rounded-full opacity-80 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none"},{default:u(()=>[D(e(He),null,{default:u(()=>[D(e(lt),{class:"size-4"})]),_:1})]),_:1})):b("",!0)])]),_:3},8,["class"])):(d(),p(e(te),{key:1},{default:u(()=>[D(e(X)),D(e(J))]),_:1})),z("div",{ref_key:"wrapperRef",ref:r,class:k(e(C)("relative flex-1 overflow-y-auto p-3",e(me),{"overflow-hidden":e(K)}))},[e(K)?(d(),p(e(bt),{key:0,class:"size-full",spinning:""})):b("",!0),y(i.$slots,"default")],2),e(he)?(d(),p(e(ft),{key:2,class:k(e(C)("w-full flex-row items-center justify-end border-t p-2 px-3",e(ye)))},{default:u(()=>[y(i.$slots,"prepend-footer"),y(i.$slots,"footer",{},()=>[e(ve)?(d(),p(oe(e(s).DefaultButton||e(se)),{key:0,variant:"ghost",onClick:v[0]||(v[0]=()=>{var A;return(A=i.drawerApi)==null?void 0:A.onCancel()})},{default:u(()=>[y(i.$slots,"cancelText",{},()=>[P(O(e(h)||e(l)("cancel")),1)])]),_:3})):b("",!0),e(Ce)?(d(),p(oe(e(s).PrimaryButton||e(se)),{key:1,loading:e(ue),onClick:v[1]||(v[1]=()=>{var A;return(A=i.drawerApi)==null?void 0:A.onConfirm()})},{default:u(()=>[y(i.$slots,"confirmText",{},()=>[P(O(e(fe)||e(l)("confirm")),1)])]),_:3},8,["loading"])):b("",!0)]),y(i.$slots,"append-footer")]),_:3},8,["class"])):b("",!0)]),_:3},8,["append-to","class","modal","open","side","z-index"])]}),_:3},8,["open"])}}});class vt{constructor(t={}){E(this,"api");E(this,"state");E(this,"sharedData",{payload:{}});E(this,"store");const h=t,{connectedComponent:s,onBeforeClose:a,onCancel:r,onConfirm:l,onOpenChange:m}=h,_=I(h,["connectedComponent","onBeforeClose","onCancel","onConfirm","onOpenChange"]),n={class:"",closable:!0,closeOnClickModal:!0,closeOnPressEscape:!0,confirmLoading:!1,contentClass:"",footer:!0,header:!0,isOpen:!1,loading:!1,modal:!0,openAutoFocus:!1,placement:"right",showCancelButton:!0,showConfirmButton:!0,title:""};this.store=new Qe(f(f({},n),_),{onUpdate:()=>{var w,x,B;const c=this.store.state;(c==null?void 0:c.isOpen)===((w=this.state)==null?void 0:w.isOpen)?this.state=c:(this.state=c,(B=(x=this.api).onOpenChange)==null||B.call(x,!!(c!=null&&c.isOpen)))}}),this.state=this.store.state,this.api={onBeforeClose:a,onCancel:r,onConfirm:l,onOpenChange:m},st(this)}batchStore(t){this.store.batch(t)}close(){var s,a,r;((r=(a=(s=this.api).onBeforeClose)==null?void 0:a.call(s))!=null?r:!0)&&this.store.setState(l=>j(f({},l),{isOpen:!1}))}getData(){var t,s;return(s=(t=this.sharedData)==null?void 0:t.payload)!=null?s:{}}onCancel(){var t,s;this.api.onCancel?(s=(t=this.api).onCancel)==null||s.call(t):this.close()}onConfirm(){var t,s;(s=(t=this.api).onConfirm)==null||s.call(t)}open(){this.store.setState(t=>j(f({},t),{isOpen:!0}))}setData(t){this.sharedData.payload=t}setState(t){ot(t)?this.store.setState(t):this.store.setState(s=>f(f({},s),t))}}const ne=Symbol("VBEN_DRAWER_INJECT");function kt(o={}){var _;const{connectedComponent:t}=o;if(t){const n=at({});return[g((c,{attrs:w,slots:x})=>(pe(ne,{extendApi(B){Object.setPrototypeOf(n,B)},options:o}),Ct(n,f(f(f({},c),w),x)),()=>ae(t,f(f({},c),w),x)),{inheritAttrs:!1,name:"VbenParentDrawer"}),n]}const s=de(ne,{}),a=f(f({},s.options),o);a.onOpenChange=n=>{var h,c,w;(h=o.onOpenChange)==null||h.call(o,n),(w=(c=s.options)==null?void 0:c.onOpenChange)==null||w.call(c,n)};const r=new vt(a),l=r;l.useStore=n=>Ye(r.store,n);const m=g((n,{attrs:h,slots:c})=>()=>ae(gt,j(f(f({},n),h),{drawerApi:l}),c),{inheritAttrs:!1,name:"VbenDrawer"});return(_=s.extendApi)==null||_.call(s,l),[m,l]}function Ct(o,t){return ee(this,null,function*(){var r;if(!t||Object.keys(t).length===0)return;yield nt();const s=(r=o==null?void 0:o.store)==null?void 0:r.state;if(!s)return;const a=new Set(Object.keys(s));for(const l of Object.keys(t))a.has(l)&&!["class"].includes(l)&&console.warn(`[Vben Drawer]: When 'connectedComponent' exists, do not set props or slots '${l}', which will increase complexity. If you need to modify the props of Drawer, please use useVbenDrawer or api.`)})}export{bt as V,lt as X,kt as u};
